<div class="row">
    <div class="col">
        <ul class="list-group">
            {{#each todos}}
                <li class="list-group-item pl-3">
                    <div class="form-group form-check">
                        <input type="checkbox" {{#if this.completed }} checked {{/if}} class="form-check-input" id="checkbox_{{ this.id }}">
                        <label class="form-check-label" for="checkbox_{{ this.id }}">{{ this.title }}</label>
                    </div>
                </li>


            {{/each}}
        </ul>

        {{#if not_found }}
            <div class="alert alert-info" role="alert">
                No todos found
            </div>
        {{/if}}


        <form autocomplete="off" class="form-inline mt-5" id="form">
            <div class="form-group mb-2 mr-3">
                <label for="addnew" class="sr-only">Add new</label>
                <input minlength="3" autocomplete="off" type="text" class="form-control" id="addnew_input" placeholder="">
            </div>
            <button type="button" id="sendForm" class="btn btn-primary mb-2">Add</button>
        </form>
        
        <script>
            document.getElementById('sendForm').addEventListener('click', function(e) {
                e.preventDefault();
                console.log(document.getElementById('addnew_input').value)
                fetch('/sfconnect/addtodo',
                {
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    method: "POST",
                    body: JSON.stringify({id: {{ id }}, content: document.getElementById('addnew_input').value})
                })
                .then(res => res.json())
                .then(res => {
                    console.log(res);
                });
            })
        </script>

    </div>
</div>


